-- DROP SCHEMA dbo;

CREATE SCHEMA dbo;

-- videoteca.dbo.area definition

-- Drop table

-- DROP TABLE videoteca.dbo.area;

CREATE TABLE videoteca.dbo.area (
	id bigint IDENTITY(0,1) NOT NULL,
	nome nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	CONSTRAINT area_pk PRIMARY KEY (id)
);


-- videoteca.dbo.status definition

-- Drop table

-- DROP TABLE videoteca.dbo.status;

CREATE TABLE videoteca.dbo.status (
	id bigint IDENTITY(0,1) NOT NULL,
	nome nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	CONSTRAINT status_pk PRIMARY KEY (id)
);


-- videoteca.dbo.subarea definition

-- Drop table

-- DROP TABLE videoteca.dbo.subarea;

CREATE TABLE videoteca.dbo.subarea (
	id bigint IDENTITY(0,1) NOT NULL,
	nome nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	id_area bigint NOT NULL,
	CONSTRAINT subarea_pk PRIMARY KEY (id),
	CONSTRAINT subarea_area_FK FOREIGN KEY (id_area) REFERENCES videoteca.dbo.area(id)
);


-- videoteca.dbo.usuario definition

-- Drop table

-- DROP TABLE videoteca.dbo.usuario;

CREATE TABLE videoteca.dbo.usuario (
	id bigint IDENTITY(0,1) NOT NULL,
	nome nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	email nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	password nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	permission bigint DEFAULT 1 NOT NULL,
	active bit DEFAULT 1 NOT NULL,
	id_area bigint NULL,
	CONSTRAINT usuario_pk PRIMARY KEY (id),
	CONSTRAINT usuario_unique UNIQUE (email),
	CONSTRAINT usuario_area_FK FOREIGN KEY (id_area) REFERENCES videoteca.dbo.area(id)
);


-- videoteca.dbo.video definition

-- Drop table

-- DROP TABLE videoteca.dbo.video;

CREATE TABLE videoteca.dbo.video (
	id bigint IDENTITY(0,1) NOT NULL,
	url nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	titulo nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	descricao nvarchar(4000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	active bit DEFAULT 1 NOT NULL,
	enviadoPor bigint NOT NULL,
	id_status bigint DEFAULT 0 NOT NULL,
	id_area bigint NOT NULL,
	id_subarea bigint NULL,
	aprovado bit DEFAULT 0 NOT NULL,
	CONSTRAINT video_pk PRIMARY KEY (id),
	CONSTRAINT video_area_FK FOREIGN KEY (id_area) REFERENCES videoteca.dbo.area(id),
	CONSTRAINT video_status_FK FOREIGN KEY (id_status) REFERENCES videoteca.dbo.status(id),
	CONSTRAINT video_subarea_FK FOREIGN KEY (id_subarea) REFERENCES videoteca.dbo.subarea(id),
	CONSTRAINT video_usuario_FK FOREIGN KEY (enviadoPor) REFERENCES videoteca.dbo.usuario(id)
);

INSERT INTO videoteca.dbo.video (url,titulo,descricao,enviadoPor,active) VALUES
	 ('https://www.youtube.com/watch?v=pscwcTZgCGU','Curso POO Teoria #04a - Métodos Especiais','testando','Curso em video',1),
	 ('https://www.youtube.com/watch?v=KlIL63MeyMY','POO #1','Video introdutório de POO em java','Curso em video',1),
	 ('https://www.youtube.com/watch?v=Ucyx_QPfDng','Curso POO Java #01b - Instalando o JDK e NetBeans','aaaaaaa','Curso em video',1),
	 ('https://www.youtube.com/watch?v=aR7CKNFECx0','Curso POO Teoria #02a - O que é um Objeto?','Video introdutório de POO em java','Curso em video',1),
	 ('https://www.youtube.com/watch?v=wNaoX6VOj54','Curso POO Java #02b - Criando Classes e Objetos em Java','Video introdutório de POO em java','Curso em video',1),
	 ('https://www.youtube.com/watch?v=jFI-qqitzwk','Curso POO Teoria #03a - O que é Visibilidade em um Objeto?','Video introdutório de POO em java','Curso em video',1);

INSERT INTO videoteca.dbo.area (nome) VALUES
	 ('Informática'),
	 ('Matemática');

INSERT INTO videoteca.dbo.subarea (nome,id_area) VALUES
	 ('Lógica de programação',0);

INSERT INTO videoteca.dbo.status (nome) VALUES
	 ('Pendente'),
	 ('Recusado'),
	 ('Aprovado');